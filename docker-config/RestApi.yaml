#
# Copyright [ 2020 - 2024 ] [Matthew Buckton]
# Copyright [ 2024 - 2025 ] [Maps Messaging B.V.]
#
#   Licensed under the Apache License, Version 2.0 (the "License");
#   you may not use this file except in compliance with the License.
#   You may obtain a copy of the License at
#
#       http://www.apache.org/licenses/LICENSE-2.0
#
#   Unless required by applicable law or agreed to in writing, software
#   distributed under the License is distributed on an "AS IS" BASIS,
#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#   See the License for the specific language governing permissions and
#   limitations under the License.
#
# DOCKER CONFIGURATION:
# This configuration enables authentication for the REST API endpoints.
# Authentication is now required for all endpoints except:
# - /api/v1/login
# - /api/v1/ping
# - /health
# - /openapi.json

---
RestApi:
  enabled: true
  enableAuthentication: true  # ENABLED: Require authentication for REST API
  hostnames: "0.0.0.0"
  port: 8080
  enableSwagger: true
  enableSwaggerUI: true
  enableUserManagement: true
  enableSchemaManagement: true
  enableInterfaceManagement: true
  enableDestinationManagement: true
  enableCache: true
  cacheLifetime: 30000
  cacheCleanup: 10000
  enableWadlEndPoint: false

  tls:
    clientCertificateRequired: false
    clientCertificateWanted: false
      #-----------------------------------
      # CRL Specific
      # crlUrl: <URL TO CRL>
      # crlInterval: <time in seconds to reload CRL>
    #-----------------------------------

    keyStore:
      type: JKS
      managerFactory: SunX509
      path: my-keystore.jks
      passphrase: password

    trustStore:
      type: JKS
      path: my-truststore.jks
      passphrase: password
      managerFactory: SunX509

  static:
    enabled: true
    directory: "{{MAPS_HOME}}/www"

  corsHeaders:
    Access-Control-Allow-Origin: "*"
    Access-Control-Allow-Methods: "GET, POST, PUT, DELETE, OPTIONS"
    Access-Control-Allow-Headers: "Content-Type, Authorization"
    Access-Control-Allow-Credentials: "true"