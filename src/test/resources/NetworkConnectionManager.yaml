#
# Copyright [ 2020 - 2024 ] [Matthew Buckton]
# Copyright [ 2024 - 2025 ] [Maps Messaging B.V.]
#
#   Licensed under the Apache License, Version 2.0 (the "License");
#   you may not use this file except in compliance with the License.
#   You may obtain a copy of the License at
#
#       http://www.apache.org/licenses/LICENSE-2.0
#
#   Unless required by applicable law or agreed to in writing, software
#   distributed under the License is distributed on an "AS IS" BASIS,
#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#   See the License for the specific language governing permissions and
#   limitations under the License.
#

NetworkConnectionManager:
  -
    global:
      -
        selector_pool_size: 2

      # ---------------------------------------------------------------------------------------------------------
      # tcp layer configuration
      #
        receiveBufferSize: 128000
        sendBufferSize: 128000
        timeout: 60000

        readDelayOnFragmentation: 100
        enableReadDelayOnFragmentation: true

      # ---------------------------------------------------------------------------------------------------------
      # Generic protocol configuration
      #
        serverReadBufferSize:  10240
        serverWriteBufferSize: 10240
        selectorThreadCount  : 1

    data:

      - name: "ST2100 Modem"
        url: serial://localhost:0/
        protocol: stogi
        transformation: "Message-Raw"
        initialSetup: ""
        incomingMessagePollInterval: 1  # 1 seconds
        outgoingMessagePollInterval: 20
        sharedSecret: "This is a shared secret to use"
        sendHighPriorityMessages: false
        modemResponseTimeout: 20000
        locationPollInterval: 60
        maxBufferSize: 4000
        compressionCutoffSize: 128

        modemStatsTopic: "/modem/stats"

        remote:
          sessionId: <not required>
          username: <not required>
          password: <not required>

        links:
          - direction: push
            local_namespace: "/sensors/#"
            remote_namespace: "/satellite/#"
            include_schema: false



        serial:
          port: /tmp/tty.app
          baudRate: 9600
          dataBits: 8
          stopBits: 1
          parity: n
          flowControl: 0



