#
#   Copyright [ 2020 - 2023 ] [Matthew Buckton]
#
#   Licensed under the Apache License, Version 2.0 (the "License");
#   you may not use this file except in compliance with the License.
#   You may obtain a copy of the License at
#
#       http://www.apache.org/licenses/LICENSE-2.0
#
#   Unless required by applicable law or agreed to in writing, software
#   distributed under the License is distributed on an "AS IS" BASIS,
#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#   See the License for the specific language governing permissions and
#   limitations under the License.
#

---
NetworkConnectionManager:
    global:
        selector_pool_size: 5

        # ---------------------------------------------------------------------------------------------------------
        # tcp layer configuration
        # ---------------------------------------------------------------------------------------------------------
        receiveBufferSize: 1M
        sendBufferSize: 1M
        timeout: 60000

        readDelayOnFragmentation: 100
        enableReadDelayOnFragmentation: true

        # ---------------------------------------------------------------------------------------------------------
        # Generic protocol configuration
        # ---------------------------------------------------------------------------------------------------------
        serverReadBufferSize:  1M
        serverWriteBufferSize: 1M
        selectorThreadCount  : 5

        security:
          tls:
            context: TLSv1.3
            clientCertificateRequired: false
            clientCertificateWanted: false
            keyStore:
              type: JKS
              managerFactory: SunX509
              path: D:\certs\certs\loragateway01\loragateway01.jks
              passphrase: changeit
            trustStore:
              type: JKS
              path: D:\certs\ca\truststore.jks
              passphrase: changeit
              managerFactory: SunX509
    data:
      -
        name: zeropi01
        url: tcp://zeropi01:1883/
        protocol: mqtt
        transformation: "Message-Raw"
        remote:
          sessionId: pc01
          username: matthew
          password: doesntmatter
        links:
          -
            direction: pull
            local_namespace: /zeropi01/
            remote_namespace: "/device/#"
            include_schema: true
      -
        name: zeropi02
        url: tcp://zeropi02:1883/
        protocol: mqtt
        transformation: "Message-Raw"
        remote:
          sessionId: pc02
          username: matthew
          password: doesntmatter
        links:
          -
            direction: pull
            local_namespace: /zeropi02/
            remote_namespace: "/device/#"
            include_schema: true
      -
        name: zeropi03
        url: tcp://10.140.12.15:1883/
        protocol: mqtt
        transformation: "Message-Raw"
        remote:
          sessionId: pc03
          username: matthew
          password: doesntmatter
        links:
          -
            direction: pull
            local_namespace: /zeropi03/
            remote_namespace: "/device/#"
            include_schema: true
      -
        name: devpi02
        url: ssl://10.140.62.243:1883/
        protocol: mqtt
        transformation: "Message-Raw"
        remote:
          sessionId: pc04
          username: matthew
          password: doesntmatter
        links:
          -
            direction: pull
            local_namespace: /devpi02/
            remote_namespace: "/device/#"
            include_schema: true
